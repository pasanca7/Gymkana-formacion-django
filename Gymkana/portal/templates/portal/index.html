{% extends 'portal/base.html' %}
{% block content %}
{% load i18n %}

<div class="content">
    <div class="container" id="news">
        <h3 style="display: inline;" class="title_section">{% trans "Últimas noticias" %}</h3>
        
            <a id="form_button" href="{% url 'portal:new_form' %}" style="margin-left: 5%;">
                <button style="background-color: green;">{% trans "Nueva noticia" %}</button>
            </a>
            <a id="form_button" href="{% url 'portal:new_form_class' %}" style="margin-left: 5%;">
                <button style="background-color: mediumvioletred;">{% trans "Nueva noticia" %}</button>
            </a>
        {% if lastest_news_list %}
        <table>
            {% for new in lastest_news_list%}
            <tr class="clickable-row" data-href="v1/news/{{ new.id }}">
                <td>
                    <h2> {{ new.title }} </h2>
                    <p>{{ new.subtitle }}</p>
                </td>
                <td style="text-align: center; width: 7%;"><a id="form_button" href="{% url 'portal:read_new' new.id %}" style="margin-left: 5%;">
                    <button style="background-color: green;">{% trans "Leer" %}</button>
                </a></td>
                <td style="text-align: center; width: 7%;"><a id="form_button" href="{% url 'portal:read_new_class' new.id %}" style="margin-left: 5%;">
                    <button style="background-color: mediumvioletred;">{% trans "Leer" %}</button>
                </a></td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
            <p>No hay noticias disponibles</p>
            
        {% endif %}
    </div>
    
    <div class="container" id="events" style="margin-top: 3%;">
        <h3 style="display: inline;" class="title_section">{% trans "Próximos eventos" %}</h3>
        <a id="form_button" href="{% url 'portal:event_form_class' %}" style="margin-left: 5%;">
            <button style="background-color: mediumvioletred;">{% trans "Nuevo evento" %}</button>
        </a>
        {% if next_events_list %}
        <table>
            {% for event in next_events_list%}
            <tr class="clickable-row" data-href="v1/events/{{ event.id }}">
                <td>
                    <h2> {{ event.title }} </h2>
                    <p>{{ event.start_date }}</p>
                </td>
                <td style="text-align: center; width: 7%;"><a id="form_button" href="{% url 'portal:read_event_class' event.id %}">
                    <button style="background-color: mediumvioletred;">{% trans "Leer" %}</button>
                </a></td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
            <p>No hay eventos disponibles</p>
        {% endif %}
    </div>
    
</div>
{% endblock %}